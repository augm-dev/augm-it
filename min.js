!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).augmit=t()}(this,(function(){"use strict";var e="function"==typeof Promise?Promise:function(e){let t,n=[],o=0;return e(e=>{t=e,o=1,n.splice(0).forEach(l)}),{then:l};function l(e){return o?setTimeout(e,0,t):n.push(e),this}};const{document:t,MutationObserver:n,Set:o,WeakMap:l}=self,r=e=>"querySelectorAll"in e,{filter:s}=[];const{create:i,keys:c}=Object,a=new WeakMap,u=new Set,d=[],h={},f={},p=(e,t)=>{for(let n=a.get(t),o=0,{length:l}=e;o<l;o++){const{target:t,attributeName:l,oldValue:r}=e[o],s=t.getAttribute(l);n.attributeChanged(l,r,s)}},{drop:g,flush:b,parse:m}=(e=>{const i=new l,c=t=>{const{query:n}=e;if(n.length)for(let e=0,{length:o}=t;e<o;e++)a(s.call(t[e].addedNodes,r),!0,n),a(s.call(t[e].removedNodes,r),!1,n)},a=(t,n,l,r=new o)=>{for(let s,c,d=0,{length:h}=t;d<h;d++)if(!r.has(c=t[d])){if(r.add(c),n)for(let t,r=u(c),a=0,{length:d}=l;a<d;a++)r.call(c,t=l[a])&&(i.has(c)||i.set(c,new o),s=i.get(c),s.has(t)||(s.add(t),e.handle(c,n,t)));else i.has(c)&&(s=i.get(c),i.delete(c),s.forEach(t=>{e.handle(c,n,t)}));a(c.querySelectorAll(l),n,l,r)}},u=e=>e.matches||e.webkitMatchesSelector||e.msMatchesSelector,d=(t,n=!0)=>{a(t,n,e.query)},h=new n(c),f=e.root||t,{query:p}=e;return h.observe(f,{childList:!0,subtree:!0}),p.length&&d(f.querySelectorAll(p)),{drop:e=>{for(let t=0,{length:n}=e;t<n;t++)i.delete(e[t])},flush:()=>{c(h.takeRecords())},observer:h,parse:d}})({query:d,handle(e,t,n){const{m:o,l:l,o:r}=h[n],s=o.get(e)||((e,t,n,o)=>{const l=i(o,{element:{enumerable:!0,value:e}});for(let t=0,{length:o}=n;t<o;t++)e.addEventListener(n[t].t,l,n[t].o);t.set(e,l),l.init&&l.init();const{observedAttributes:r}=o;if(r){const t=new MutationObserver(p);t.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:r.map(t=>(e.hasAttribute(t)&&l.attributeChanged(t,null,e.getAttribute(t)),t))}),a.set(t,l)}return l})(e,o,l,r),c=t?"connected":"disconnected";c in s&&s[c]()}}),y=(e,t)=>{if(-1<d.indexOf(e))throw new Error("duplicated: "+e);b();const n=[],o=i(null);for(let e=c(t),l=0,{length:r}=e;l<r;l++){const r=e[l];if(/^on/.test(r)&&!/Options$/.test(r)){const e=t[r+"Options"]||!1,l=r.toLowerCase();let s=l.slice(2);n.push({t:s,o:e}),o[s]=r,l!==r&&(s=r.slice(2,3).toLowerCase()+r.slice(3),o[s]=r,n.push({t:s,o:e}))}}n.length&&(t.handleEvent=function(e){this[o[e.type]](e)}),d.push(e),h[e]={m:new WeakMap,l:n,o:t},m(document.querySelectorAll(e)),v(e),u.has(e)||f[e]._()},w=(e,t,n)=>{u.add(e),y(e,{init(){u.has(e)&&(u.delete(e),t().then(({default:t})=>{d.splice(d.indexOf(e),1),g(document.querySelectorAll(e)),(n||y)(e,t)}))}})},v=t=>{if(!(t in f)){let n,o=new e(e=>{n=e});f[t]={_:n,$:o}}return f[t].$},A=new Set;return(e,t={})=>{const n=t.extension||".js",o=t.prefix||"it-",l=t.runtime||{},r=t.container||document,s=t=>{for(let r=0,{length:s}=t;r<s;r++)for(let{addedNodes:s}=t[r],c=0,{length:a}=s;c<a;c++){const t=s[c];if(t.querySelectorAll){const r=t.classList.value+" "+(t.getAttribute("is")||t.tagName).toLowerCase();let s=r.substr(r.indexOf(o)+o.length).split(" ")[0],c=s.length?o+s:null;c&&!A.has(c)&&(A.add(c),w(`.${c},${c},[is="${c}"]`,()=>import(e.replace(/\/?$/,"/")+s+n).then(e=>(Object.assign(e.default,l),e)).catch(e=>{console.log("No component found for "+s)}))),i(t.querySelectorAll("*"))}}},i=e=>{s([{addedNodes:e}])};i(r.querySelectorAll("*"));const c=new MutationObserver(s);c.observe(r,{subtree:!0,childList:!0});let a=(e=r)=>a(e),u=a;return u.upgrade=a,u.disconnect=function(){c.disconnect()},u}}));
